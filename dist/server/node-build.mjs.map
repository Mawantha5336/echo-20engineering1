{"version":3,"file":"node-build.mjs","sources":["../../server/routes/demo.ts","../../server/storage.ts","../../server/routes/data.ts","../../server/index.ts","../../server/node-build.ts"],"sourcesContent":["import { RequestHandler } from \"express\";\nimport { DemoResponse } from \"@shared/api\";\n\nexport const handleDemo: RequestHandler = (req, res) => {\n  const response: DemoResponse = {\n    message: \"Hello from Express server\",\n  };\n  res.status(200).json(response);\n};\n","import fs from \"fs\";\nimport path from \"path\";\n\nconst DATA_DIR = path.join(process.cwd(), \"data\");\nconst PROJECTS_FILE = path.join(DATA_DIR, \"projects.json\");\nconst EQUIPMENT_FILE = path.join(DATA_DIR, \"equipment.json\");\nconst PO_PROJECTS_FILE = path.join(DATA_DIR, \"po-projects.json\");\n\nfunction ensureDataDir() {\n  if (!fs.existsSync(DATA_DIR)) {\n    fs.mkdirSync(DATA_DIR, { recursive: true });\n  }\n}\n\nfunction readJsonFile<T>(filePath: string, defaultValue: T[]): T[] {\n  ensureDataDir();\n  try {\n    if (fs.existsSync(filePath)) {\n      const data = fs.readFileSync(filePath, \"utf-8\");\n      return JSON.parse(data);\n    }\n  } catch (error) {\n    console.error(`Error reading ${filePath}:`, error);\n  }\n  return defaultValue;\n}\n\nfunction writeJsonFile<T>(filePath: string, data: T[]) {\n  ensureDataDir();\n  fs.writeFileSync(filePath, JSON.stringify(data, null, 2));\n}\n\nexport interface Project {\n  id: string;\n  projectName: string;\n  customer: string;\n  oem: string;\n  operator: string;\n  activity: string;\n  noOfSites: number;\n  image?: string;\n  createdAt: string;\n}\n\nexport interface Equipment {\n  id: string;\n  title: string;\n  description: string;\n  image?: string;\n  createdAt: string;\n}\n\nexport interface POProject {\n  id: string;\n  poDate: string;\n  client: string;\n  product: string;\n  projectStatus: string;\n  createdAt: string;\n}\n\nexport const projectsStorage = {\n  getAll: (): Project[] => readJsonFile<Project>(PROJECTS_FILE, []),\n  \n  add: (project: Omit<Project, \"id\" | \"createdAt\">): Project => {\n    const projects = projectsStorage.getAll();\n    const newProject: Project = {\n      ...project,\n      id: Date.now().toString(),\n      createdAt: new Date().toISOString(),\n    };\n    projects.push(newProject);\n    writeJsonFile(PROJECTS_FILE, projects);\n    return newProject;\n  },\n  \n  delete: (id: string): boolean => {\n    const projects = projectsStorage.getAll();\n    const filtered = projects.filter((p) => p.id !== id);\n    if (filtered.length < projects.length) {\n      writeJsonFile(PROJECTS_FILE, filtered);\n      return true;\n    }\n    return false;\n  },\n  \n  update: (id: string, data: Partial<Project>): Project | null => {\n    const projects = projectsStorage.getAll();\n    const index = projects.findIndex((p) => p.id === id);\n    if (index !== -1) {\n      projects[index] = { ...projects[index], ...data };\n      writeJsonFile(PROJECTS_FILE, projects);\n      return projects[index];\n    }\n    return null;\n  },\n};\n\nexport const equipmentStorage = {\n  getAll: (): Equipment[] => readJsonFile<Equipment>(EQUIPMENT_FILE, []),\n  \n  add: (equipment: Omit<Equipment, \"id\" | \"createdAt\">): Equipment => {\n    const items = equipmentStorage.getAll();\n    const newEquipment: Equipment = {\n      ...equipment,\n      id: Date.now().toString(),\n      createdAt: new Date().toISOString(),\n    };\n    items.push(newEquipment);\n    writeJsonFile(EQUIPMENT_FILE, items);\n    return newEquipment;\n  },\n  \n  delete: (id: string): boolean => {\n    const items = equipmentStorage.getAll();\n    const filtered = items.filter((e) => e.id !== id);\n    if (filtered.length < items.length) {\n      writeJsonFile(EQUIPMENT_FILE, filtered);\n      return true;\n    }\n    return false;\n  },\n  \n  update: (id: string, data: Partial<Equipment>): Equipment | null => {\n    const items = equipmentStorage.getAll();\n    const index = items.findIndex((e) => e.id === id);\n    if (index !== -1) {\n      items[index] = { ...items[index], ...data };\n      writeJsonFile(EQUIPMENT_FILE, items);\n      return items[index];\n    }\n    return null;\n  },\n};\n\nexport const poProjectsStorage = {\n  getAll: (): POProject[] => readJsonFile<POProject>(PO_PROJECTS_FILE, []),\n  \n  add: (poProject: Omit<POProject, \"id\" | \"createdAt\">): POProject => {\n    const projects = poProjectsStorage.getAll();\n    const newProject: POProject = {\n      ...poProject,\n      id: Date.now().toString(),\n      createdAt: new Date().toISOString(),\n    };\n    projects.push(newProject);\n    writeJsonFile(PO_PROJECTS_FILE, projects);\n    return newProject;\n  },\n  \n  delete: (id: string): boolean => {\n    const projects = poProjectsStorage.getAll();\n    const filtered = projects.filter((p) => p.id !== id);\n    if (filtered.length < projects.length) {\n      writeJsonFile(PO_PROJECTS_FILE, filtered);\n      return true;\n    }\n    return false;\n  },\n  \n  update: (id: string, data: Partial<POProject>): POProject | null => {\n    const projects = poProjectsStorage.getAll();\n    const index = projects.findIndex((p) => p.id === id);\n    if (index !== -1) {\n      projects[index] = { ...projects[index], ...data };\n      writeJsonFile(PO_PROJECTS_FILE, projects);\n      return projects[index];\n    }\n    return null;\n  },\n};\n","import { RequestHandler } from \"express\";\nimport {\n  projectsStorage,\n  equipmentStorage,\n  poProjectsStorage,\n} from \"../storage\";\n\nexport const getProjects: RequestHandler = (_req, res) => {\n  try {\n    const projects = projectsStorage.getAll();\n    res.json(projects);\n  } catch (error) {\n    res.status(500).json({ error: \"Failed to fetch projects\" });\n  }\n};\n\nexport const addProject: RequestHandler = (req, res) => {\n  try {\n    const { projectName, customer, oem, operator, activity, noOfSites, image } = req.body;\n    \n    if (!projectName || !customer || !oem || !operator || !activity || noOfSites === undefined) {\n      res.status(400).json({ error: \"Missing required fields\" });\n      return;\n    }\n    \n    const project = projectsStorage.add({\n      projectName,\n      customer,\n      oem,\n      operator,\n      activity,\n      noOfSites: parseInt(noOfSites),\n      image,\n    });\n    \n    res.status(201).json(project);\n  } catch (error) {\n    res.status(500).json({ error: \"Failed to add project\" });\n  }\n};\n\nexport const deleteProject: RequestHandler = (req, res) => {\n  try {\n    const { id } = req.params;\n    const success = projectsStorage.delete(id);\n    \n    if (success) {\n      res.json({ message: \"Project deleted\" });\n    } else {\n      res.status(404).json({ error: \"Project not found\" });\n    }\n  } catch (error) {\n    res.status(500).json({ error: \"Failed to delete project\" });\n  }\n};\n\nexport const getEquipment: RequestHandler = (_req, res) => {\n  try {\n    const equipment = equipmentStorage.getAll();\n    res.json(equipment);\n  } catch (error) {\n    res.status(500).json({ error: \"Failed to fetch equipment\" });\n  }\n};\n\nexport const addEquipment: RequestHandler = (req, res) => {\n  try {\n    const { title, description, image } = req.body;\n    \n    if (!title || !description) {\n      res.status(400).json({ error: \"Missing required fields\" });\n      return;\n    }\n    \n    const equipment = equipmentStorage.add({\n      title,\n      description,\n      image,\n    });\n    \n    res.status(201).json(equipment);\n  } catch (error) {\n    res.status(500).json({ error: \"Failed to add equipment\" });\n  }\n};\n\nexport const deleteEquipment: RequestHandler = (req, res) => {\n  try {\n    const { id } = req.params;\n    const success = equipmentStorage.delete(id);\n    \n    if (success) {\n      res.json({ message: \"Equipment deleted\" });\n    } else {\n      res.status(404).json({ error: \"Equipment not found\" });\n    }\n  } catch (error) {\n    res.status(500).json({ error: \"Failed to delete equipment\" });\n  }\n};\n\nexport const getPOProjects: RequestHandler = (_req, res) => {\n  try {\n    const projects = poProjectsStorage.getAll();\n    res.json(projects);\n  } catch (error) {\n    res.status(500).json({ error: \"Failed to fetch P/O projects\" });\n  }\n};\n\nexport const addPOProject: RequestHandler = (req, res) => {\n  try {\n    const { poDate, client, product, projectStatus } = req.body;\n    \n    if (!poDate || !client || !product || !projectStatus) {\n      res.status(400).json({ error: \"Missing required fields\" });\n      return;\n    }\n    \n    const project = poProjectsStorage.add({\n      poDate,\n      client,\n      product,\n      projectStatus,\n    });\n    \n    res.status(201).json(project);\n  } catch (error) {\n    res.status(500).json({ error: \"Failed to add P/O project\" });\n  }\n};\n\nexport const deletePOProject: RequestHandler = (req, res) => {\n  try {\n    const { id } = req.params;\n    const success = poProjectsStorage.delete(id);\n    \n    if (success) {\n      res.json({ message: \"P/O Project deleted\" });\n    } else {\n      res.status(404).json({ error: \"P/O Project not found\" });\n    }\n  } catch (error) {\n    res.status(500).json({ error: \"Failed to delete P/O project\" });\n  }\n};\n","import \"dotenv/config\";\nimport express from \"express\";\nimport cors from \"cors\";\nimport { handleDemo } from \"./routes/demo\";\nimport {\n  getProjects,\n  addProject,\n  deleteProject,\n  getEquipment,\n  addEquipment,\n  deleteEquipment,\n  getPOProjects,\n  addPOProject,\n  deletePOProject,\n} from \"./routes/data\";\n\nexport function createServer() {\n  const app = express();\n\n  // Middleware\n  app.use(cors());\n  app.use(express.json({ limit: \"50mb\" }));\n  app.use(express.urlencoded({ extended: true, limit: \"50mb\" }));\n\n  // Example API routes\n  app.get(\"/api/ping\", (_req, res) => {\n    const ping = process.env.PING_MESSAGE ?? \"ping\";\n    res.json({ message: ping });\n  });\n\n  app.get(\"/api/demo\", handleDemo);\n\n  // Projects API\n  app.get(\"/api/projects\", getProjects);\n  app.post(\"/api/projects\", addProject);\n  app.delete(\"/api/projects/:id\", deleteProject);\n\n  // Equipment API\n  app.get(\"/api/equipment\", getEquipment);\n  app.post(\"/api/equipment\", addEquipment);\n  app.delete(\"/api/equipment/:id\", deleteEquipment);\n\n  // P/O Projects API\n  app.get(\"/api/po-projects\", getPOProjects);\n  app.post(\"/api/po-projects\", addPOProject);\n  app.delete(\"/api/po-projects/:id\", deletePOProject);\n\n  return app;\n}\n","import path from \"path\";\nimport { createServer } from \"./index\";\nimport * as express from \"express\";\n\nconst app = createServer();\nconst port = process.env.PORT || 5000;\nconst host = \"0.0.0.0\";\n\n// In production, serve the built SPA files\nconst __dirname = import.meta.dirname;\nconst distPath = path.join(__dirname, \"../spa\");\n\n// Serve static files\napp.use(express.static(distPath));\n\n// Handle React Router - serve index.html for all non-API routes\napp.get(\"*\", (req, res) => {\n  // Don't serve index.html for API routes\n  if (req.path.startsWith(\"/api/\") || req.path.startsWith(\"/health\")) {\n    return res.status(404).json({ error: \"API endpoint not found\" });\n  }\n\n  res.sendFile(path.join(distPath, \"index.html\"));\n});\n\napp.listen(port, host, () => {\n  console.log(`ðŸš€ Fusion Starter server running on ${host}:${port}`);\n  console.log(`ðŸ“± Frontend: http://${host}:${port}`);\n  console.log(`ðŸ”§ API: http://${host}:${port}/api`);\n});\n\n// Graceful shutdown\nprocess.on(\"SIGTERM\", () => {\n  console.log(\"ðŸ›‘ Received SIGTERM, shutting down gracefully\");\n  process.exit(0);\n});\n\nprocess.on(\"SIGINT\", () => {\n  console.log(\"ðŸ›‘ Received SIGINT, shutting down gracefully\");\n  process.exit(0);\n});\n"],"names":["app","express"],"mappings":"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"}